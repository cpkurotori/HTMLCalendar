<!DOCTYPE HTML>
<html>
	<head>
		<link rel="shortcut icon" href="images/favicon.ico" />
		<title>Ohlone ./CS</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>
		<table class="calendar" id="calendar" style="margin:auto; width: 90%; min-width:540px;">
			<tr>
				<td colspan="7" class="monthCell">
					<div class="button left">
						<a class="hidden" href="javascript:void(0)" onclick="functionDate.setMonth(functionDate.getMonth()-1);createCalendar(functionDate);">
							<div style="height:100%; width:75px;float:left">
								<
							</div>
						</a>
					</div>
					<input class="title" type="month" id="calendar-title" name="calendar-title" >
					<button class="title" type="button" onclick="var inputDate=document.getElementById('calendar-title').value; var inputDateSplit = inputDate.split('-');functionDate = new Date(inputDateSplit[0],parseInt(inputDateSplit[1])-1);createCalendar(functionDate);">GO</button>
					<!-- <div class="month" id="month"></div> -->
					<div class="button right">
						<a class="hidden" href="javascript:void(0)" onclick="functionDate.setMonth(functionDate.getMonth()+1);createCalendar(functionDate);">
							<div style="height:100%; width:75px; float:right">
								>
							</div>
						</a>
					</div>
				</td>
			</tr>
			<tr>
				<th>Sunday</th>
				<th>Monday</th>
				<th>Tuesday</th>
				<th>Wednesday</th>
				<th>Thursday</th>
				<th>Friday</th>
				<th>Saturday</th>
			</tr>
			<tr class="week" id="w1">
				<td id="w1sun"><div class="day"><!-- </div><a class="event" href="javascript:void(0)" onclick="document.getElementById('eventDet').style.display='block';document.getElementById('fade').style.display='block'"></a> --></td>
				<td id="w1mon"></td>
				<td id="w1tue"></td>
				<td id="w1wed"></td>
				<td id="w1thu"></td>
				<td id="w1fri"></td>
				<td id="w1sat"></td>
			</tr>
			<tr class="week" id="w2">
				<td id="w2sun"></td>
				<td id="w2mon"></td>
				<td id="w2tue"></td>
				<td id="w2wed"></td>
				<td id="w2thu"></td>
				<td id="w2fri"></td>
				<td id="w2sat"></td>
			</tr>
			<tr class="week" id="w3">
				<td id="w3sun"></td>
				<td id="w3mon"></td>
				<td id="w3tue"></td>
				<td id="w3wed"></td>
				<td id="w3thu"></td>
				<td id="w3fri"></td>
				<td id="w3sat"></td>
			</tr>
			<tr class="week" id="w4">
				<td id="w4sun"></td>
				<td id="w4mon"></td>
				<td id="w4tue"></td>
				<td id="w4wed"></td>
				<td id="w4thu"></td>
				<td id="w4fri"></td>
				<td id="w4sat"></td>
			</tr>
			<tr class="week" id="w5">
				<td id="w5sun"></td>
				<td id="w5mon"></td>
				<td id="w5tue"></td>
				<td id="w5wed"></td>
				<td id="w5thu"></td>
				<td id="w5fri"></td>
				<td id="w5sat"></td>
			</tr>
			<tr class="week" id="w6">
				<td id="w6sun"></td>
				<td id="w6mon"></td>
				<td id="w6tue"></td>
				<td id="w6wed"></td>
				<td id="w6thu"></td>
				<td id="w6fri"></td>
				<td id="w6sat"></td>
			</tr>
		</table>
		<a href="javascript:void(0)" onclick="document.getElementById('eventDet').style.display='none';document.getElementById('fade').style.display='none'">
			<div id="eventDet" class="white_content">This is the lightbox content. </div>
	  		<div id="fade" class="black_overlay"></div>
		</a>
	</body>

	<script>
	function clearCalendar(){
		pDate = new Date()
		try{
			document.getElementById(String(pDate.getFullYear())+String(pDate.getMonth())+String(pDate.getDate())).parentNode.style="background-color:none";
		}
		catch(err){}
		var daysShort = ["sun","mon","tue","wed","thu","fri","sat"];
		for (i = 1; i<=6; i++){
			for (j=0;j<=6;j++){
				document.getElementById('w'+String(i)+daysShort[j]).innerHTML="";
			}
		}
	}
	functionDate = new Date();
	function createCalendar(pDate){
		clearCalendar()
		var today = new Date();
		for (i=1;i<=6;i++){
			document.getElementById('w'+String(i)).style.visibility='visible';
		}
		var months = ["01","02","03","04","05","06","07","08","09","10","11","12"]
		var days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
		var daysShort = ["sun","mon","tue","wed","thu","fri","sat"];
		var daysInMonth = [31,28,31,30,31,30,31,31,30,31,30,31];
		var f = new Date(pDate.getFullYear(),pDate.getMonth(),1);
		if (pDate.getFullYear()%4==0 && (pDate.getFullYear()%100!=0 || pDate.getFullYear()%400==0)){
			daysInMonth[1]=29;
		}
		var d = 1;
		document.getElementById("calendar-title").value = String(pDate.getFullYear())+"-"+months[pDate.getMonth()];
		for (i = 1; i <=6; i++){
			if (i==1){
				for (j=f.getDay();j<=6;j++){
					document.getElementById("w"+String(i)+daysShort[j]).innerHTML = "<div id=\""+String(pDate.getFullYear())+String(pDate.getMonth())+String(d)+"\"class=\"day\">"+String(d)+"</div>";
					d++;
					if (d>daysInMonth[pDate.getMonth()]){break;}
				}
			}
			else{
				for (j=0;j<=6;j++){
					document.getElementById("w"+String(i)+daysShort[j]).innerHTML = document.getElementById("w"+String(i)+daysShort[j]).innerHTML = "<div id=\""+String(pDate.getFullYear())+String(pDate.getMonth())+String(d)+"\"class=\"day\">"+String(d)+"</div>";
					d++;
					if (d>daysInMonth[pDate.getMonth()]){break;}
				}
			if (d>daysInMonth[pDate.getMonth()]){break;}			
			}
		}
		for (i = 1;i<=6;i++){
			var test = false;
			for (j = 0; j<=6;j++)
			if (document.getElementById("w"+String(i)+daysShort[j]).innerHTML!=""){
				test = true;
				break
			}
			if (test==false){
				document.getElementById('w'+String(i)).style.visibility='hidden';
			}
		}
		if (today.getMonth() == pDate.getMonth() && today.getFullYear() == pDate.getFullYear()){
			document.getElementById(String(today.getFullYear())+String(today.getMonth())+String(today.getDate())).parentNode.style="background-color:rgba(255,255,255,.3)";
		}
	}
	createCalendar(functionDate);


	</script>
